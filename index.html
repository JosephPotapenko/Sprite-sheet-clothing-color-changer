<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Sprite Color Shifter â€” Palette Extract & Replace</title>
<link rel="stylesheet" href="style.css">

</head>
<body>
<div class="app">
  <div class="left">
    <div class="topbar">
      <div class="brand">Sprite Color Shifter</div>
      <div class="controls-row">
        <input id="fileInput" type="file" accept="image/*" />
        <button id="downloadImage" class="btn">Download PNG</button>
        <button id="resetAll" class="btn">Reset</button>
        <button id="resetZoomPan" class="btn">Center Image</button>
        <button id="clearSelection" class="btn">Clear Selection</button>
      </div>
    </div>

    <div class="canvas-container" id="canvasContainer">
      <div id="canvasViewport">
        <canvas id="canvas"></canvas>
      </div>
      <canvas class="image-highlight-overlay" style="display:none"></canvas>
      <!-- Removed grid tools -->
    </div>

    <div style="display:flex;gap:12px;margin-top:8px;">
      <div style="flex:1" class="small">
        <div>Zoom & Pan: wheel to zoom, drag to pan, double-click to reset. Ctrl/Cmd + wheel also adjusts zoom.</div>
      </div>
      <!-- Removed grid size controls -->
    </div>
    
    <div class="bottom-nav">
      <button id="darkModeToggle" class="btn nav-btn" title="Toggle Dark/Light Mode">ðŸŒ™</button>
      <button id="readmeBtn" class="btn nav-btn readme-text" title="View README">README</button>
    </div>
  </div>

  <aside class="panel">
    <div class = 'brand'>Palette & Tools</div>

    <div class="file-input">
      <div>
        <div class="small">Extracted palette</div>
        <!-- Change swatches to 5 columns -->
        <div class="swatches" id="colorList" aria-label="extracted palette" style="display:grid;grid-template-columns:repeat(12,1fr);gap:6px;max-height:320px;overflow:auto;padding:6px;background:var(--glass);border-radius:8px"></div>
      </div>
    </div>

    <div style="margin-top:8px" class="small">Click a swatch â†’ highlight. Ctrl/Cmd+click multiple â†’ group/select. Selected group affected by sliders.</div>

    <div style="margin-top:10px">
      <div class="slider-row">
        <!-- hue arrows + slider -->
        <button id="hueLeft" class="slider-arrow" title="Decrease hue">â—€</button>
        <input id="hueSlider" type="range" min="0" max="360" value="180" style="flex:1;">
        <button id="hueRight" class="slider-arrow" title="Increase hue">â–¶</button>
        <span id="hueValue" class="slider-value">180Â°</span>
      </div>
      <div class="small">Hue (degrees). Slider shows the absolute hue applied to selected colors.</div>
    </div>
    <div style="margin-top:8px">
      <div class="slider-row">
        <!-- lightness arrows + slider -->
        <button id="lightLeft" class="slider-arrow" title="Decrease lightness">â—€</button>
        <input id="lightnessSlider" type="range" min="0" max="100" value="50" style="flex:1;">
        <button id="lightRight" class="slider-arrow" title="Increase lightness">â–¶</button>
        <span id="lightValue" class="slider-value">50%</span>
      </div>
      <div class="small">Lightness (%) â€” 0% black, 100% white. Slider shows group's average lightness.</div>
    </div>

    <div style="margin-top:10px;display:flex;gap:6px;align-items:center">
      <button id="applyHue" class="btn">Apply to Selected</button>
      <button id="undoColors" class="btn">Undo</button>
      <button id="redoColors" class="btn">Redo</button>
    </div>

    <div style="margin-top:12px">
      <div class="small">Merge similar colors threshold: <span id="mergeThresholdValue">5</span>%</div>
      <input id="mergeThresholdSlider" type="range" min="0" max="30" value="5">
      <div style="margin-top:8px;display:flex;gap:6px">
        <button id="applyMerge" class="btn">Merge</button>
        <button id="undoMerge" class="btn">Undo Merge</button>
      </div>
    </div>

    <hr style="margin:12px 0;border:none;border-top:1px solid rgba(255,255,255,0.03)">
  </aside>
</div>

<script src="script.js"></script>
</body>
</html>

